{"ast":null,"code":"var _jsxFileName = \"/home/alexkimory/react-test/src/components/section/charts/TimeSerie.js\";\nimport { Chart } from '@antv/g2';\nimport axios from 'axios';\nimport React from 'react';\n\nclass TimeSerie extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: []\n    };\n\n    this.componentDidMount = async () => {\n      const data = await axios.get('https://gw.alipayobjects.com/os/antvdemo/assets/data/fireworks-sales.json');\n      console.log(data);\n      this.setState({\n        data: data\n      });\n    };\n\n    this.renderChart = () => {\n      let data = this.state.data;\n      const chart = new Chart({\n        container: 'container',\n        autoFit: true,\n        height: 500\n      });\n      chart.data(data);\n      chart.scale('Data', {\n        range: [0, 1],\n        tickCount: 10,\n        type: 'timeCat'\n      });\n      chart.scale('sales', {\n        nice: true\n      });\n      chart.axis('sales', {\n        label: {\n          formatter: text => {\n            return text.replace(/(\\d)(?=(?:\\d{3})+$)/g, '$1,');\n          }\n        }\n      });\n      chart.tooltip({\n        showCrosshairs: true\n      });\n      chart.annotation().dataMarker({\n        position: ['2014-01', 1750],\n        top: true,\n        text: {\n          content: '因政策调整导致销量下滑',\n          style: {\n            fontSize: 13\n          }\n        },\n        line: {\n          length: 30\n        }\n      });\n      chart.line().position('Data*sales');\n      chart.area().position('Data*sales');\n      chart.render();\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, this.renderChart());\n  }\n\n}\n\nexport default TimeSerie;","map":{"version":3,"sources":["/home/alexkimory/react-test/src/components/section/charts/TimeSerie.js"],"names":["Chart","axios","React","TimeSerie","Component","state","data","componentDidMount","get","console","log","setState","renderChart","chart","container","autoFit","height","scale","range","tickCount","type","nice","axis","label","formatter","text","replace","tooltip","showCrosshairs","annotation","dataMarker","position","top","content","style","fontSize","line","length","area","render"],"mappings":";AAAA,SAASA,KAAT,QAAsB,UAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,SAAN,SAAwBD,KAAK,CAACE,SAA9B,CAAwC;AAAA;AAAA;AAAA,SACpCC,KADoC,GAC5B;AACJC,MAAAA,IAAI,EAAG;AADH,KAD4B;;AAAA,SAIpCC,iBAJoC,GAIhB,YAAY;AAC5B,YAAMD,IAAI,GAAG,MAAML,KAAK,CAACO,GAAN,CAAU,2EAAV,CAAnB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AACA,WAAKK,QAAL,CAAc;AAACL,QAAAA,IAAI,EAAGA;AAAR,OAAd;AACH,KARmC;;AAAA,SAUpCM,WAVoC,GAUtB,MAAM;AAChB,UAAIN,IAAI,GAAG,KAAKD,KAAL,CAAWC,IAAtB;AAEA,YAAMO,KAAK,GAAG,IAAIb,KAAJ,CAAU;AACpBc,QAAAA,SAAS,EAAE,WADS;AAEpBC,QAAAA,OAAO,EAAE,IAFW;AAGpBC,QAAAA,MAAM,EAAE;AAHY,OAAV,CAAd;AAKEH,MAAAA,KAAK,CAACP,IAAN,CAAWA,IAAX;AACAO,MAAAA,KAAK,CAACI,KAAN,CAAY,MAAZ,EAAoB;AAClBC,QAAAA,KAAK,EAAE,CAAC,CAAD,EAAI,CAAJ,CADW;AAElBC,QAAAA,SAAS,EAAE,EAFO;AAGlBC,QAAAA,IAAI,EAAE;AAHY,OAApB;AAKAP,MAAAA,KAAK,CAACI,KAAN,CAAY,OAAZ,EAAqB;AACnBI,QAAAA,IAAI,EAAE;AADa,OAArB;AAGAR,MAAAA,KAAK,CAACS,IAAN,CAAW,OAAX,EAAoB;AAClBC,QAAAA,KAAK,EAAE;AACLC,UAAAA,SAAS,EAAEC,IAAI,IAAI;AACjB,mBAAOA,IAAI,CAACC,OAAL,CAAa,sBAAb,EAAqC,KAArC,CAAP;AACD;AAHI;AADW,OAApB;AAOAb,MAAAA,KAAK,CAACc,OAAN,CAAc;AACZC,QAAAA,cAAc,EAAE;AADJ,OAAd;AAIAf,MAAAA,KAAK,CAACgB,UAAN,GAAmBC,UAAnB,CAA8B;AAC5BC,QAAAA,QAAQ,EAAE,CAAC,SAAD,EAAY,IAAZ,CADkB;AAE5BC,QAAAA,GAAG,EAAE,IAFuB;AAG5BP,QAAAA,IAAI,EAAE;AACJQ,UAAAA,OAAO,EAAE,aADL;AAEJC,UAAAA,KAAK,EAAE;AACLC,YAAAA,QAAQ,EAAE;AADL;AAFH,SAHsB;AAS5BC,QAAAA,IAAI,EAAE;AACJC,UAAAA,MAAM,EAAE;AADJ;AATsB,OAA9B;AAcAxB,MAAAA,KAAK,CAACuB,IAAN,GAAaL,QAAb,CAAsB,YAAtB;AACAlB,MAAAA,KAAK,CAACyB,IAAN,GAAaP,QAAb,CAAsB,YAAtB;AACAlB,MAAAA,KAAK,CAAC0B,MAAN;AACL,KAvDmC;AAAA;;AAyDpCA,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAK3B,WAAL,EADL,CADJ;AAKH;;AA/DmC;;AAkExC,eAAeT,SAAf","sourcesContent":["import { Chart } from '@antv/g2';\nimport axios from 'axios';\nimport React from 'react';\n\nclass TimeSerie extends React.Component {\n    state = {\n        data : []\n    }\n    componentDidMount = async () => {\n        const data = await axios.get('https://gw.alipayobjects.com/os/antvdemo/assets/data/fireworks-sales.json');\n        console.log(data);\n        this.setState({data : data});\n    }\n\n    renderChart = () => {\n        let data = this.state.data;\n\n        const chart = new Chart({\n            container: 'container',\n            autoFit: true,\n            height: 500,\n          });\n          chart.data(data);\n          chart.scale('Data', {\n            range: [0, 1],\n            tickCount: 10,\n            type: 'timeCat'\n          });\n          chart.scale('sales', {\n            nice: true,\n          });\n          chart.axis('sales', {\n            label: {\n              formatter: text => {\n                return text.replace(/(\\d)(?=(?:\\d{3})+$)/g, '$1,');\n              }\n            }\n          });\n          chart.tooltip({\n            showCrosshairs: true,\n          });\n      \n          chart.annotation().dataMarker({\n            position: ['2014-01', 1750],\n            top: true,\n            text: {\n              content: '因政策调整导致销量下滑',\n              style: {\n                fontSize: 13,\n              }\n            },\n            line: {\n              length: 30,\n            },\n          });\n      \n          chart.line().position('Data*sales');\n          chart.area().position('Data*sales');\n          chart.render();\n    }\n\n    render() {\n        return (\n            <div>\n                {this.renderChart()}\n            </div>\n        )\n    }\n}\n\nexport default TimeSerie;\n"]},"metadata":{},"sourceType":"module"}